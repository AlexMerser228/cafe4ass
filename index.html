<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ñ–µ —É –î–º–∏—Ç—Ä–∞</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>–ö–∞—Ñ–µ —É –î–º–∏—Ç—Ä–∞</header>
    
    <div class="section">
        <h2>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!</h2>
        <p>–°–º–∞—á–Ω—ñ —Å—Ç—Ä–∞–≤–∏ —Ç–∞ –≤–µ—Å–µ–ª—ñ —Ä–æ–∑–≤–∞–≥–∏ –¥–ª—è —á—É–¥–æ–≤–æ–≥–æ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É!</p>
    </div>
    
    <div class="section">
        <h2>–ú–µ–Ω—é</h2>
        <p class="menu-item">ü•© –°—Ç–µ–π–∫ –∑ —è–ª–æ–≤–∏—á–∏–Ω–∏ - –≤—ñ–¥—Å—É—Ç–Ω—ñ–π</p>
        <p class="menu-item">üçï –ü—ñ—Ü–∞ "–ß–æ—Ç–∏—Ä–∏ —Å–∏—Ä–∏" - –Ø–∫—â–æ –∑–∞–º–æ–≤–∏—Ç–µ <button class="add-to-order" data-dish="–ü—ñ—Ü–∞ '–ß–æ—Ç–∏—Ä–∏ —Å–∏—Ä–∏'">–î–æ–¥–∞—Ç–∏</button></p>
        <p class="menu-item">üçú –ë–æ—Ä—â —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π - –≤—ñ–¥—Å—É—Ç–Ω—ñ–π</p>
        <p class="menu-item">ü•ó –ì—Ä–µ—Ü—å–∫–∏–π —Å–∞–ª–∞—Ç - –≤—ñ–¥—Å—É—Ç–Ω—ñ–π</p>
        <p class="menu-item">üç∞ –¢—ñ—Ä–∞–º—ñ—Å—É - —à–æ —Ü–µ?</p>
    </div>
    
    <div class="section">
        <h2>–†–æ–∑–≤–∞–≥–∏</h2>
        <p class="activity">üé§ –ö–∞—Ä–∞–æ–∫–µ —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–µ–Ω—å –î–æ—Ä–æ—Ñ–µ—î–≤–æ—ó</p>
        <p class="activity">üé± –ë—ñ–ª—å—è—Ä–¥ –ö–∏—à–µ–Ω—å–∫–æ–≤–∏–π</p>
        <p class="activity">üé≤ –ù–∞—Å—Ç—ñ–ª—å–Ω—ñ —ñ–≥—Ä–∏ (–ø—Ä–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∑ —Å–æ–±–æ—é —Å—Ç–æ–ª—É)</p>
        <p class="activity">üé∂ –õ–µ–¥—å –ñ–∏–≤–∞ –º—É–∑–∏–∫–∞</p>
    </div>

    <div class="section">
        <h2>–í—ñ–¥–≥—É–∫–∏</h2>
        <p class="review">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "–ö–∏—à–µ–Ω—å–∫–æ–≤–∏–π –±—ñ–ª—å—è—Ä–¥ –≤—Ä—è—Ç—É–≤–∞–≤ –≤–µ—á—ñ—Ä, –±—Ä–∏–∑–≥–Ω—É–ª–æ –∞–∂ –Ω–∞ —Å—É—Å—ñ–¥–Ω—é –≤—É–ª–∏—Ü—é!" - –ö—É–ª–∏–∫</p>
        <p class="review">‚≠ê‚≠ê‚≠ê "–ù–∞–≥–µ–Ω—Å–∏ –Ω–æ—Ä–º, –∞–ª–µ –î–æ—Ä–æ—Ñ–µ—î–≤–∞ –≤–∂–µ –≤ –ø–µ—á—ñ–Ω–∫–∞—Ö —Å–∏–¥–∏—Ç—å." - –û–ª—è</p>
    </div>
    
    <div class="section">
        <h2>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h2>
        <p>üìç –ê–¥—Ä–µ—Å–∞: –≤—É–ª. –ú–∞—Ä—ñ—ó –õ–∏—Ç–≤–∏–Ω–µ–Ω–∫–æ-–í–æ–ª—å–≥–µ–º—É—Ç 56, –í—ñ–Ω–Ω–∏—Ü—è</p>
        <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω: –î–æ–º–∞—à–Ω—ñ–π</p>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2601.452413765576!2d28.46865731568347!3d49.23308247932686!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDnCsDEzJzU5LjEiTiAyOMKwMjgnMDkuMiJF!5e0!3m2!1suk!2sua!4v1630000000000" width="100%" height="300" style="border:0; border-radius: 10px;" allowfullscreen="" loading="lazy"></iframe>
    </div>
    
    <footer>¬© 2025 –ö–∞—Ñ–µ —É –î–º–∏—Ç—Ä–∞. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω–æ. –û–∫—Ä—ñ–º –ø—Ä–∞–≤–∞ –Ω–∞ –Ω–µ–∑–∞–π–º–∞–Ω—ñ—Å—Ç—å –≤–∞—à–æ—ó —Å—Ä–∞–∫–∏</footer>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è -->
    <button id="orderButton" class="order-button">–ó—Ä–æ–±–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>

    <!-- –ö–Ω–æ–ø–∫–∞ "–•—Ç–æ –Ω–∞ –≤–∞—Ö—Ç—ñ" -->
    <button id="watchButton" class="watch-button">–•—Ç–æ –Ω–∞ –≤–∞—Ö—Ç—ñ</button>
    
    <!-- –ü–æ–ø–∞–ø "–•—Ç–æ –Ω–∞ –≤–∞—Ö—Ç—ñ" -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <p id="popupText" contenteditable="false">–í–ª–∞–¥ –ø*–¥–æ—Ä –Ω–∞ –≤–∞—Ö—Ç—ñ</p>
            <button id="closePopup" class="close-popup">–ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
    </div>

    <!-- –ü–æ–ø–∞–ø –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è -->
    <div id="orderPopup" class="order-popup">
        <div class="order-popup-content">
            <h2>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
            <form id="orderForm">
                <input type="text" id="name" placeholder="–í–∞—à–µ —ñ–º'—è" required>
                <input type="tel" id="phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É (+380...)" required>
                <textarea id="dishes" placeholder="–©–æ –±–∞–∂–∞—î—Ç–µ –∑–∞–º–æ–≤–∏—Ç–∏?" required></textarea>
                <input type="datetime-local" id="deliveryTime" placeholder="–î–∞—Ç–∞ —ñ —á–∞—Å –¥–æ—Å—Ç–∞–≤–∫–∏" required>
                <div class="button-group">
                    <button type="submit" class="submit-btn">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
                    <button type="button" id="closeOrderPopup" class="close-btn">–ó–∞–∫—Ä–∏—Ç–∏</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const orderButton = document.getElementById("orderButton");
            const watchButton = document.getElementById("watchButton");
            const orderPopup = document.getElementById("orderPopup");
            const closeOrderPopup = document.getElementById("closeOrderPopup");
            const orderForm = document.getElementById("orderForm");
            const popup = document.getElementById("popup");
            const closePopup = document.getElementById("closePopup");
            const popupText = document.getElementById("popupText");

            const botToken = "7782211334:AAEJAJ8yWMY-Ii3RUoObEWccXRTUDVwLWBM";
            const chatId = "-4132173767";

            // –ü—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—á—É–≤–∞–Ω–Ω—ñ
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    watchButton.classList.add('hidden');
                    orderButton.classList.add('hidden');
                } else {
                    watchButton.classList.remove('hidden');
                    orderButton.classList.remove('hidden');
                }
            });

            // –í—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ–ø–∞–ø "–•—Ç–æ –Ω–∞ –≤–∞—Ö—Ç—ñ" —ñ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –≤ Telegram –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º
            watchButton.addEventListener("click", function () {
                popup.style.display = "flex"; // –í—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –ø–æ–ø–∞–ø

                const lastSent = localStorage.getItem('lastWatchSent'); // –û—Ç—Ä–∏–º—É—î–º–æ —á–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
                const now = Date.now(); // –ü–æ—Ç–æ—á–Ω–∏–π —á–∞—Å
                const tenMinutes = 10 * 60 * 1000; // 10 —Ö–≤–∏–ª–∏–Ω —É –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥–∞—Ö

                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –º–∏–Ω—É–ª–æ 10 —Ö–≤–∏–ª–∏–Ω
                if (!lastSent || (now - lastSent >= tenMinutes)) {
                    const message = `–ü–æ –∑–∞–ø–∏—Ç—É –∑ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É –¥–∞–Ω–æ—ó —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ (https://alexmerser228.github.io/cafe4ass/) –ë—É–≤ –∑–∞–ø–∏—Ç –•—Ç–æ –Ω–∞ –≤–∞—Ö—Ç—ñ.\n\n${popupText.innerText}`;
                    const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

                    fetch(url)
                        .then(response => response.json())
                        .then(data => {
                            if (data.ok) {
                                localStorage.setItem('lastWatchSent', now); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —á–∞—Å –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
                                console.log("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram");
                            } else {
                                console.error("–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –≤ Telegram:", data);
                            }
                        })
                        .catch(error => console.error("–ü–æ–º–∏–ª–∫–∞:", error));
                } else {
                    console.log("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: —â–µ –Ω–µ –º–∏–Ω—É–ª–æ 10 —Ö–≤–∏–ª–∏–Ω");
                    // alert("–ó–∞—á–µ–∫–∞–π—Ç–µ, –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ —Ä–∞–∑ –Ω–∞ 10 —Ö–≤–∏–ª–∏–Ω!");
                }
            });

            // –ó–∞–∫—Ä–∏—Ç–∏ –ø–æ–ø–∞–ø "–•—Ç–æ –Ω–∞ –≤–∞—Ö—Ç—ñ" –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é
            closePopup.addEventListener("click", function () {
                popup.style.animation = "fadeOut 0.3s ease-out";
                setTimeout(() => {
                    popup.style.display = "none";
                    popup.style.animation = "fadeIn 0.3s ease-in";
                }, 300);
            });

            // –í—ñ–¥–∫—Ä–∏—Ç–∏ –ø–æ–ø–∞–ø –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            orderButton.addEventListener("click", function () {
                orderPopup.style.display = "flex";
            });

            // –ó–∞–∫—Ä–∏—Ç–∏ –ø–æ–ø–∞–ø –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            closeOrderPopup.addEventListener("click", function () {
                orderPopup.style.animation = "fadeOut 0.3s ease-out";
                setTimeout(() => {
                    orderPopup.style.display = "none";
                    orderPopup.style.animation = "fadeIn 0.3s ease-in";
                }, 300);
            });

            // –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É –∑ –º–µ–Ω—é –≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            document.querySelectorAll('.add-to-order').forEach(button => {
                button.addEventListener('click', function() {
                    const dish = this.getAttribute('data-dish');
                    const dishesField = document.getElementById('dishes');
                    dishesField.value += (dishesField.value ? '\n' : '') + dish;
                    orderPopup.style.display = "flex";
                });
            });

            // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ Telegram –∑ –¥–∞—Ç–æ—é —ñ —á–∞—Å–æ–º
            orderForm.addEventListener("submit", function (e) {
                e.preventDefault();
                const name = document.getElementById("name").value;
                const phone = document.getElementById("phone").value;
                const dishes = document.getElementById("dishes").value;
                const deliveryTime = document.getElementById("deliveryTime").value;
                const formattedTime = new Date(deliveryTime).toLocaleString('uk-UA'); // –§–æ—Ä–º–∞—Ç—É—î–º–æ –¥–∞—Ç—É —ñ —á–∞—Å
                const message = `–ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:\n–Ü–º'—è: ${name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n–°—Ç—Ä–∞–≤–∏: ${dishes}\n–î–∞—Ç–∞ —ñ —á–∞—Å: ${formattedTime}`;
                const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        if (data.ok) {
                            alert("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ! –ß–µ–∫–∞–π—Ç–µ, –ø–æ–∫–∏ –º–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ—Å—è, —â–æ —Ç–∞–∫–µ —Ç—ñ—Ä–∞–º—ñ—Å—É.");
                            orderPopup.style.animation = "fadeOut 0.3s ease-out";
                            setTimeout(() => {
                                orderPopup.style.display = "none";
                                orderPopup.style.animation = "fadeIn 0.3s ease-in";
                                orderForm.reset();
                            }, 300);
                        } else {
                            alert("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ! –ú–æ–∂–ª–∏–≤–æ, –º–∏ –∑–Ω–æ–≤—É –∑–∞–±—É–ª–∏ –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç.");
                        }
                    })
                    .catch(error => {
                        alert("–ü–æ–º–∏–ª–∫–∞: " + error);
                    });
            });

            // –ü–∞—Å—Ö–∞–ª–∫–∞ —É —Ñ—É—Ç–µ—Ä—ñ
            document.querySelector('footer').addEventListener('click', () => {
                alert('–¢–∏ —à–æ, —Ä–µ–∞–ª—å–Ω–æ –¥—É–º–∞—î—à, —à–æ –º–∏ –∑–∞—Ö–∏—Å—Ç–∏–º–æ —Ç–≤–æ—é —Å—Ä–∞–∫—É? üòÇ');
            });
        });
    </script>
</body>
</html>
